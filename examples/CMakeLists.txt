if (${dune-pdelab_FOUND})
  option(DUNE_DDM_BUILD_EXAMPLES "Try to build the examples" On)
  if (${DUNE_DDM_BUILD_EXAMPLES})    
    add_executable(poisson EXCLUDE_FROM_ALL poisson.cc)
    target_link_libraries(poisson PUBLIC duneddm libluajit-5.1.so)
    target_link_libraries(poisson PUBLIC duneddm lapacke)
    # add_dune_blas_lapack_flags(poisson)
    # add_dune_mpi_flags(poisson)
    # add_dune_suitesparse_flags(poisson)
    # if (TARGET Eigen3::Eigen)
    #   add_dune_eigen_flags(poisson)
    # endif()
    target_link_dune_default_libraries(poisson)
    
    dune_symlink_to_source_files(FILES poisson.ini)
  
    # add_executable(pdelab_example EXCLUDE_FROM_ALL pdelab_example.cc)
    # target_link_dune_default_libraries(pdelab_example)
    # target_link_libraries(pdelab_example PUBLIC duneddm)
    # dune_symlink_to_source_files(FILES pdelab_example.ini)
    # dune_symlink_to_source_files(FILES tutorial06.ini)
  endif()
else()
  message(WARNING "PDELab not found, not building examples")
endif()

# add_executable(solve_matrix_market EXCLUDE_FROM_ALL solve_matrix_market.cc)
# target_link_dune_default_libraries(solve_matrix_market)
# target_link_libraries(solve_matrix_market PUBLIC duneddm)

# add_executable(gpu_solvers gpu_solvers.cc)
# target_link_libraries(gpu_solvers PUBLIC dune-ddm Dune::PDELab)
# add_dune_all_flags(gpu_solvers)

